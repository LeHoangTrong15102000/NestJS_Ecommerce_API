# Stripe Webhook Events

| Event Type                        | When Triggered                                   | Current Status | Recommendation | Priority       | Billing Status Impact           | Use Case                                                    |
| --------------------------------- | ------------------------------------------------ | -------------- | -------------- | -------------- | ------------------------------- | ----------------------------------------------------------- |
| **CUSTOMER EVENTS**               |                                                  |                |                |                |                                 |                                                             |
| `customer.created`                | When customer is created on Stripe               | ‚ùå Not Needed  | Skip           | N/A            | None                            | System creates customer via API and stores ID immediately   |
| `customer.updated`                | When customer info changes                       | ‚ùå Not Needed  | Optional       | Low            | None                            | Could sync customer data, not critical                      |
| `customer.subscription.created`   | When subscription is created                     | ‚ùå Not Needed  | Skip           | N/A            | None                            | Handled via checkout session                                |
| `customer.subscription.updated`   | When subscription status/metadata changes        | ‚ö†Ô∏è Missing     | Implement      | üî¥ HIGH        | `DONE`, `PAST_DUE`, `CANCELLED` | Track cancellation schedule, status changes, renewal cycles |
| `customer.subscription.deleted`   | When subscription is permanently deleted         | ‚ö†Ô∏è Missing     | Implement      | üü° MEDIUM      | `CANCELLED`                     | Revoke access, cleanup data, send notifications             |
| `customer.subscription.paused`    | When subscription is paused                      | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if pause feature is supported                          |
| `customer.subscription.resumed`   | When subscription is resumed                     | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if pause feature is supported                          |
| **INVOICE EVENTS**                |                                                  |                |                |                |                                 |                                                             |
| `invoice.created`                 | Draft invoice created (~1hr before finalization) | ‚ö†Ô∏è Missing     | Optional       | Low            | None                            | Apply discounts/credits before charge                       |
| `invoice.finalized`               | Invoice ready to be charged                      | ‚ö†Ô∏è Missing     | Optional       | Low            | None                            | Logging/tracking only                                       |
| `invoice.paid`                    | Invoice successfully paid                        | ‚úÖ Implemented | Keep           | Current        | `DONE` or `REQUIRED`            | Provision access when payment succeeds                      |
| `invoice.payment_succeeded`       | Automatic payment succeeded                      | ‚úÖ Implemented | Keep           | Current        | `DONE` or `REQUIRED`            | Same handler as `invoice.paid`                              |
| `invoice.payment_failed`          | Payment attempt failed                           | ‚úÖ Implemented | Keep           | Current        | `PAST_DUE`                      | Notify customer, request payment method update              |
| `invoice.payment_action_required` | Payment needs 3D Secure/SCA                      | ‚ö†Ô∏è Missing     | Implement      | üü° MEDIUM-HIGH | None                            | Send email for authentication completion                    |
| `invoice.upcoming`                | Few days before renewal                          | ‚ùå Not Needed  | Optional       | Low            | None                            | Send renewal reminder emails                                |
| `invoice.updated`                 | Invoice is updated                               | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only for manual invoice updates                             |
| `invoice.finalization_failed`     | Cannot finalize invoice                          | ‚ùå Not Needed  | Optional       | Low            | None                            | Alert admin, debug errors                                   |
| **PAYMENT INTENT EVENTS**         |                                                  |                |                |                |                                 |                                                             |
| `payment_intent.created`          | Payment intent created                           | ‚ùå Not Needed  | Skip           | N/A            | None                            | Duplicate with invoice events                               |
| `payment_intent.succeeded`        | Payment intent succeeded                         | ‚ùå Not Needed  | Skip           | N/A            | None                            | Already handled by `invoice.payment_succeeded`              |
| `payment_intent.payment_failed`   | Payment intent failed                            | ‚ùå Not Needed  | Skip           | N/A            | None                            | Already handled by `invoice.payment_failed`                 |
| **SUBSCRIPTION SCHEDULE EVENTS**  |                                                  |                |                |                |                                 |                                                             |
| `subscription_schedule.aborted`   | Schedule aborted                                 | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if using subscription schedules                        |
| `subscription_schedule.canceled`  | Schedule canceled                                | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if using subscription schedules                        |
| `subscription_schedule.completed` | Schedule completed                               | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if using subscription schedules                        |
| `subscription_schedule.created`   | Schedule created                                 | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if using subscription schedules                        |
| `subscription_schedule.expiring`  | 7 days before expiration                         | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if using subscription schedules                        |
| `subscription_schedule.released`  | Schedule released                                | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if using subscription schedules                        |
| `subscription_schedule.updated`   | Schedule updated                                 | ‚ùå Not Needed  | Skip           | N/A            | None                            | Only if using subscription schedules                        |
