# Stripe Webhook Events - B·∫£ng T·ªïng H·ª£p (Ti·∫øng Vi·ªát)

| Lo·∫°i Event                        | Khi N√†o ƒê∆∞·ª£c K√≠ch Ho·∫°t                              | Tr·∫°ng Th√°i Hi·ªán T·∫°i | Khuy·∫øn Ngh·ªã | ƒê·ªô ∆Øu Ti√™n        | ·∫¢nh H∆∞·ªüng Billing Status        | Tr∆∞·ªùng H·ª£p S·ª≠ D·ª•ng                                            |
| --------------------------------- | --------------------------------------------------- | ------------------- | ----------- | ----------------- | ------------------------------- | ------------------------------------------------------------- |
| **S·ª∞ KI·ªÜN CUSTOMER**              |                                                     |                     |             |                   |                                 |                                                               |
| `customer.created`                | Khi customer ƒë∆∞·ª£c t·∫°o tr√™n Stripe                   | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | H·ªá th·ªëng t·ª± t·∫°o customer qua API v√† l∆∞u ID ngay l·∫≠p t·ª©c       |
| `customer.updated`                | Khi th√¥ng tin customer thay ƒë·ªïi                     | ‚ùå Kh√¥ng C·∫ßn        | T√πy ch·ªçn    | Th·∫•p              | Kh√¥ng                           | C√≥ th·ªÉ ƒë·ªìng b·ªô d·ªØ li·ªáu customer, kh√¥ng quan tr·ªçng             |
| `customer.subscription.created`   | Khi subscription ƒë∆∞·ª£c t·∫°o                           | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | ƒê∆∞·ª£c x·ª≠ l√Ω qua checkout session                               |
| `customer.subscription.updated`   | Khi status/metadata subscription thay ƒë·ªïi           | ‚ö†Ô∏è Thi·∫øu            | Tri·ªÉn Khai  | üî¥ CAO            | `DONE`, `PAST_DUE`, `CANCELLED` | Theo d√µi l·ªãch h·ªßy, thay ƒë·ªïi tr·∫°ng th√°i, chu k·ª≥ gia h·∫°n        |
| `customer.subscription.deleted`   | Khi subscription b·ªã x√≥a vƒ©nh vi·ªÖn                   | ‚ö†Ô∏è Thi·∫øu            | Tri·ªÉn Khai  | üü° TRUNG B√åNH     | `CANCELLED`                     | Thu h·ªìi quy·ªÅn truy c·∫≠p, d·ªçn d·∫πp d·ªØ li·ªáu, g·ª≠i th√¥ng b√°o        |
| `customer.subscription.paused`    | Khi subscription b·ªã t·∫°m d·ª´ng                        | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu h·ªó tr·ª£ t√≠nh nƒÉng pause                            |
| `customer.subscription.resumed`   | Khi subscription ƒë∆∞·ª£c ti·∫øp t·ª•c                      | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu h·ªó tr·ª£ t√≠nh nƒÉng pause                            |
| **S·ª∞ KI·ªÜN INVOICE**               |                                                     |                     |             |                   |                                 |                                                               |
| `invoice.created`                 | Invoice nh√°p ƒë∆∞·ª£c t·∫°o (~1 gi·ªù tr∆∞·ªõc khi ho√†n thi·ªán) | ‚ùå Kh√¥ng C·∫ßn        | T√πy ch·ªçn    | Th·∫•p              | Kh√¥ng                           | √Åp d·ª•ng gi·∫£m gi√°/t√≠n d·ª•ng tr∆∞·ªõc khi charge                    |
| `invoice.finalized`               | Invoice s·∫µn s√†ng ƒë·ªÉ charge                          | ‚ùå Kh√¥ng C·∫ßn        | T√πy ch·ªçn    | Th·∫•p              | Kh√¥ng                           | Ch·ªâ ƒë·ªÉ logging/tracking                                       |
| `invoice.paid`                    | Invoice ƒë∆∞·ª£c thanh to√°n th√†nh c√¥ng                  | ‚úÖ ƒê√£ Tri·ªÉn Khai    | Gi·ªØ nguy√™n  | Hi·ªán t·∫°i          | `DONE` ho·∫∑c `REQUIRED`          | C·∫•p quy·ªÅn truy c·∫≠p khi thanh to√°n th√†nh c√¥ng                  |
| `invoice.payment_succeeded`       | Thanh to√°n t·ª± ƒë·ªông th√†nh c√¥ng                       | ‚úÖ ƒê√£ Tri·ªÉn Khai    | Gi·ªØ nguy√™n  | Hi·ªán t·∫°i          | `DONE` ho·∫∑c `REQUIRED`          | C√πng handler v·ªõi `invoice.paid`                               |
| `invoice.payment_failed`          | Thanh to√°n th·∫•t b·∫°i                                 | ‚úÖ ƒê√£ Tri·ªÉn Khai    | Gi·ªØ nguy√™n  | Hi·ªán t·∫°i          | `PAST_DUE`                      | Th√¥ng b√°o kh√°ch h√†ng, y√™u c·∫ßu c·∫≠p nh·∫≠t ph∆∞∆°ng th·ª©c thanh to√°n |
| `invoice.payment_action_required` | Thanh to√°n c·∫ßn 3D Secure/SCA                        | ‚ö†Ô∏è Thi·∫øu            | Tri·ªÉn Khai  | üü° TRUNG B√åNH-CAO | Kh√¥ng                           | G·ª≠i email ƒë·ªÉ ho√†n t·∫•t x√°c th·ª±c                                |
| `invoice.upcoming`                | V√†i ng√†y tr∆∞·ªõc khi gia h·∫°n                          | ‚ùå Kh√¥ng C·∫ßn        | T√πy ch·ªçn    | Th·∫•p              | Kh√¥ng                           | G·ª≠i email nh·∫Øc nh·ªü gia h·∫°n                                    |
| `invoice.updated`                 | Invoice ƒë∆∞·ª£c c·∫≠p nh·∫≠t                               | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ cho c·∫≠p nh·∫≠t invoice th·ªß c√¥ng                             |
| `invoice.finalization_failed`     | Kh√¥ng th·ªÉ ho√†n thi·ªán invoice                        | ‚ùå Kh√¥ng C·∫ßn        | T√πy ch·ªçn    | Th·∫•p              | Kh√¥ng                           | C·∫£nh b√°o admin, debug l·ªói                                     |
| **S·ª∞ KI·ªÜN PAYMENT INTENT**        |                                                     |                     |             |                   |                                 |                                                               |
| `payment_intent.created`          | Payment intent ƒë∆∞·ª£c t·∫°o                             | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qa       | N/A               | Kh√¥ng                           | Tr√πng l·∫∑p v·ªõi invoice events                                  |
| `payment_intent.succeeded`        | Payment intent th√†nh c√¥ng                           | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | ƒê√£ x·ª≠ l√Ω b·ªüi `invoice.payment_succeeded`                      |
| `payment_intent.payment_failed`   | Payment intent th·∫•t b·∫°i                             | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | ƒê√£ x·ª≠ l√Ω b·ªüi `invoice.payment_failed`                         |
| **S·ª∞ KI·ªÜN SUBSCRIPTION SCHEDULE** |
| `subscription_schedule.aborted`   | Schedule b·ªã h·ªßy b·ªè                                  | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu d√πng subscription schedules                       |
| `subscription_schedule.canceled`  | Schedule b·ªã cancel                                  | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu d√πng subscription schedules                       |
| `subscription_schedule.completed` | Schedule ho√†n th√†nh                                 | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu d√πng subscription schedules                       |
| `subscription_schedule.created`   | Schedule ƒë∆∞·ª£c t·∫°o                                   | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu d√πng subscription schedules                       |
| `subscription_schedule.expiring`  | 7 ng√†y tr∆∞·ªõc khi h·∫øt h·∫°n                            | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu d√πng subscription schedules                       |
| `subscription_schedule.released`  | Schedule ƒë∆∞·ª£c ph√°t h√†nh                             | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu d√πng subscription schedules                       |
| `subscription_schedule.updated`   | Schedule ƒë∆∞·ª£c c·∫≠p nh·∫≠t                              | ‚ùå Kh√¥ng C·∫ßn        | B·ªè qua      | N/A               | Kh√¥ng                           | Ch·ªâ c·∫ßn n·∫øu d√πng subscription schedules                       |


